{"ast":null,"code":"import _slicedToArray from \"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { validateDate } from '../internal/pickers/date-utils';\nimport { useUtils, useNow } from '../internal/pickers/hooks/useUtils';\nexport var createCalendarStateReducer = function createCalendarStateReducer(reduceAnimations, disableSwitchToMonthOnDayFocus, utils) {\n  return function (state, action) {\n    switch (action.type) {\n      case 'changeMonth':\n        return _extends({}, state, {\n          slideDirection: action.direction,\n          currentMonth: action.newMonth,\n          isMonthSwitchingAnimating: !reduceAnimations\n        });\n\n      case 'finishMonthSwitchingAnimation':\n        return _extends({}, state, {\n          isMonthSwitchingAnimating: false\n        });\n\n      case 'changeFocusedDay':\n        {\n          if (state.focusedDay !== null && utils.isSameDay(action.focusedDay, state.focusedDay)) {\n            return state;\n          }\n\n          var needMonthSwitch = Boolean(action.focusedDay) && !disableSwitchToMonthOnDayFocus && !utils.isSameMonth(state.currentMonth, action.focusedDay);\n          return _extends({}, state, {\n            focusedDay: action.focusedDay,\n            isMonthSwitchingAnimating: needMonthSwitch && !reduceAnimations,\n            currentMonth: needMonthSwitch ? utils.startOfMonth(action.focusedDay) : state.currentMonth,\n            slideDirection: utils.isAfterDay(action.focusedDay, state.currentMonth) ? 'left' : 'right'\n          });\n        }\n\n      default:\n        throw new Error('missing support');\n    }\n  };\n};\nexport function useCalendarState(_ref2) {\n  var date = _ref2.date,\n      defaultCalendarMonth = _ref2.defaultCalendarMonth,\n      disableFuture = _ref2.disableFuture,\n      disablePast = _ref2.disablePast,\n      _ref2$disableSwitchTo = _ref2.disableSwitchToMonthOnDayFocus,\n      disableSwitchToMonthOnDayFocus = _ref2$disableSwitchTo === void 0 ? false : _ref2$disableSwitchTo,\n      maxDate = _ref2.maxDate,\n      minDate = _ref2.minDate,\n      onMonthChange = _ref2.onMonthChange,\n      reduceAnimations = _ref2.reduceAnimations,\n      shouldDisableDate = _ref2.shouldDisableDate;\n\n  var _ref;\n\n  var now = useNow();\n  var utils = useUtils();\n  var reducerFn = React.useRef(createCalendarStateReducer(Boolean(reduceAnimations), disableSwitchToMonthOnDayFocus, utils)).current;\n\n  var _React$useReducer = React.useReducer(reducerFn, {\n    isMonthSwitchingAnimating: false,\n    focusedDay: date || now,\n    currentMonth: utils.startOfMonth((_ref = date != null ? date : defaultCalendarMonth) != null ? _ref : now),\n    slideDirection: 'left'\n  }),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      calendarState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var handleChangeMonth = React.useCallback(function (payload) {\n    dispatch(_extends({\n      type: 'changeMonth'\n    }, payload));\n\n    if (onMonthChange) {\n      onMonthChange(payload.newMonth);\n    }\n  }, [onMonthChange]);\n  var changeMonth = React.useCallback(function (newDate) {\n    var newDateRequested = newDate != null ? newDate : now;\n\n    if (utils.isSameMonth(newDateRequested, calendarState.currentMonth)) {\n      return;\n    }\n\n    handleChangeMonth({\n      newMonth: utils.startOfMonth(newDateRequested),\n      direction: utils.isAfterDay(newDateRequested, calendarState.currentMonth) ? 'left' : 'right'\n    });\n  }, [calendarState.currentMonth, handleChangeMonth, now, utils]);\n  var isDateDisabled = React.useCallback(function (day) {\n    return validateDate(utils, day, {\n      disablePast: disablePast,\n      disableFuture: disableFuture,\n      minDate: minDate,\n      maxDate: maxDate,\n      shouldDisableDate: shouldDisableDate\n    }) !== null;\n  }, [disableFuture, disablePast, maxDate, minDate, shouldDisableDate, utils]);\n  var onMonthSwitchingAnimationEnd = React.useCallback(function () {\n    dispatch({\n      type: 'finishMonthSwitchingAnimation'\n    });\n  }, []);\n  var changeFocusedDay = React.useCallback(function (newFocusedDate) {\n    if (!isDateDisabled(newFocusedDate)) {\n      dispatch({\n        type: 'changeFocusedDay',\n        focusedDay: newFocusedDate\n      });\n    }\n  }, [isDateDisabled]);\n  return {\n    calendarState: calendarState,\n    changeMonth: changeMonth,\n    changeFocusedDay: changeFocusedDay,\n    isDateDisabled: isDateDisabled,\n    onMonthSwitchingAnimationEnd: onMonthSwitchingAnimationEnd,\n    handleChangeMonth: handleChangeMonth\n  };\n}","map":{"version":3,"sources":["/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/@mui/lab/CalendarPicker/useCalendarState.js"],"names":["_extends","React","validateDate","useUtils","useNow","createCalendarStateReducer","reduceAnimations","disableSwitchToMonthOnDayFocus","utils","state","action","type","slideDirection","direction","currentMonth","newMonth","isMonthSwitchingAnimating","focusedDay","isSameDay","needMonthSwitch","Boolean","isSameMonth","startOfMonth","isAfterDay","Error","useCalendarState","date","defaultCalendarMonth","disableFuture","disablePast","maxDate","minDate","onMonthChange","shouldDisableDate","_ref","now","reducerFn","useRef","current","useReducer","calendarState","dispatch","handleChangeMonth","useCallback","payload","changeMonth","newDate","newDateRequested","isDateDisabled","day","onMonthSwitchingAnimationEnd","changeFocusedDay","newFocusedDate"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { validateDate } from '../internal/pickers/date-utils';\nimport { useUtils, useNow } from '../internal/pickers/hooks/useUtils';\nexport const createCalendarStateReducer = (reduceAnimations, disableSwitchToMonthOnDayFocus, utils) => (state, action) => {\n  switch (action.type) {\n    case 'changeMonth':\n      return _extends({}, state, {\n        slideDirection: action.direction,\n        currentMonth: action.newMonth,\n        isMonthSwitchingAnimating: !reduceAnimations\n      });\n\n    case 'finishMonthSwitchingAnimation':\n      return _extends({}, state, {\n        isMonthSwitchingAnimating: false\n      });\n\n    case 'changeFocusedDay':\n      {\n        if (state.focusedDay !== null && utils.isSameDay(action.focusedDay, state.focusedDay)) {\n          return state;\n        }\n\n        const needMonthSwitch = Boolean(action.focusedDay) && !disableSwitchToMonthOnDayFocus && !utils.isSameMonth(state.currentMonth, action.focusedDay);\n        return _extends({}, state, {\n          focusedDay: action.focusedDay,\n          isMonthSwitchingAnimating: needMonthSwitch && !reduceAnimations,\n          currentMonth: needMonthSwitch ? utils.startOfMonth(action.focusedDay) : state.currentMonth,\n          slideDirection: utils.isAfterDay(action.focusedDay, state.currentMonth) ? 'left' : 'right'\n        });\n      }\n\n    default:\n      throw new Error('missing support');\n  }\n};\nexport function useCalendarState({\n  date,\n  defaultCalendarMonth,\n  disableFuture,\n  disablePast,\n  disableSwitchToMonthOnDayFocus = false,\n  maxDate,\n  minDate,\n  onMonthChange,\n  reduceAnimations,\n  shouldDisableDate\n}) {\n  var _ref;\n\n  const now = useNow();\n  const utils = useUtils();\n  const reducerFn = React.useRef(createCalendarStateReducer(Boolean(reduceAnimations), disableSwitchToMonthOnDayFocus, utils)).current;\n  const [calendarState, dispatch] = React.useReducer(reducerFn, {\n    isMonthSwitchingAnimating: false,\n    focusedDay: date || now,\n    currentMonth: utils.startOfMonth((_ref = date != null ? date : defaultCalendarMonth) != null ? _ref : now),\n    slideDirection: 'left'\n  });\n  const handleChangeMonth = React.useCallback(payload => {\n    dispatch(_extends({\n      type: 'changeMonth'\n    }, payload));\n\n    if (onMonthChange) {\n      onMonthChange(payload.newMonth);\n    }\n  }, [onMonthChange]);\n  const changeMonth = React.useCallback(newDate => {\n    const newDateRequested = newDate != null ? newDate : now;\n\n    if (utils.isSameMonth(newDateRequested, calendarState.currentMonth)) {\n      return;\n    }\n\n    handleChangeMonth({\n      newMonth: utils.startOfMonth(newDateRequested),\n      direction: utils.isAfterDay(newDateRequested, calendarState.currentMonth) ? 'left' : 'right'\n    });\n  }, [calendarState.currentMonth, handleChangeMonth, now, utils]);\n  const isDateDisabled = React.useCallback(day => validateDate(utils, day, {\n    disablePast,\n    disableFuture,\n    minDate,\n    maxDate,\n    shouldDisableDate\n  }) !== null, [disableFuture, disablePast, maxDate, minDate, shouldDisableDate, utils]);\n  const onMonthSwitchingAnimationEnd = React.useCallback(() => {\n    dispatch({\n      type: 'finishMonthSwitchingAnimation'\n    });\n  }, []);\n  const changeFocusedDay = React.useCallback(newFocusedDate => {\n    if (!isDateDisabled(newFocusedDate)) {\n      dispatch({\n        type: 'changeFocusedDay',\n        focusedDay: newFocusedDate\n      });\n    }\n  }, [isDateDisabled]);\n  return {\n    calendarState,\n    changeMonth,\n    changeFocusedDay,\n    isDateDisabled,\n    onMonthSwitchingAnimationEnd,\n    handleChangeMonth\n  };\n}"]},"metadata":{},"sourceType":"module"}